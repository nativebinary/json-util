<!DOCTYPE html>
<html>
  <head>
    <style type="text/css">
      html,body {
        font-family: monospace;
      }
      input, textarea {
        font-family: monospace;
        font-size: 24px;
      }
    </style>
    <script type="text/javascript">
      function genPassword() {
        const input = document.getElementsByName('length')[0];
        const len = parseInt(input.value, 10);
        console.log('len', len);

        const s = 'ABCDEFGHJKMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz23456789';

        let r = '';
        for(let i = 0; i < len; ++i) {
          r += s.charAt(Math.random() * s.length);
        }
        return r;
      }

      function genMulti() {

        const result = document.getElementsByName('result')[0];
        result.value = genPassword();

        const list = document.getElementsByName('list')[0];
        let m = '';
        for (let i = 0; i < 10; ++i) {
          m += genPassword() + '\n';
        }

        list.value = m;
      }

      function onSubmit(e) {
        e.preventDefault();

        genMulti();
        return false;
      }

      function onLoad() {
        const form = document.getElementsByName('form')[0];
        form.onsubmit = onSubmit;

        const length = document.getElementsByName('length')[0];
        length.onchange = function(e) {
          e.preventDefault();

          genMulti();

          return false;
        }

        const result = document.getElementsByName('result')[0];
        result.onfocus = function(e) {
          e.preventDefault();
          e.target.select();
          document.execCommand("copy");
        };
        genMulti();
      }

      window.addEventListener("load", onLoad);
    </script>
  </head>
  <body>
    <form name="form" onsubmit="return false;">
      <input type="number" name="length" value="16" size="5">
      <input type="submit" value="GeneratePassword">
    </form>
    <input type="text" name="result" size="50"/><br/>
    <textarea name="list" cols="50" rows="15"></textarea>
  </body>
</html>